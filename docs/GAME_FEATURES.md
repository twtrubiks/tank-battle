# 遊戲特性說明

經典 FC Battle City (1985) 復刻版坦克大戰，使用 Phaser.js 3 開發。

## 核心特性

### 🎮 遊戲機制

- **操作控制**: 方向鍵移動、空白鍵射擊、P 鍵暫停
- **生命系統**: 3 條生命，重生保護 3 秒
- **關卡系統**: 5 個精心設計的關卡
- **存檔功能**: 自動保存進度、分數和統計

### 🪖 星星升級系統

完整復刻經典 FC 的 4 級升級系統：

| 等級 | 效果 | 說明 |
|------|------|------|
| ⭐ Level 1 | 速度 +30% | 移動速度提升 100→130 px/s |
| ⭐⭐ Level 2 | 雙發子彈 | 可同時發射 2 顆子彈 |
| ⭐⭐⭐ Level 3 | 破壞鋼牆 | 子彈傷害提升，可摧毀鋼牆 |
| ⭐⭐⭐⭐ Level 4 | 最大火力 | 3 發子彈 + 5 秒金色護盾 |

**特性**: 升級永久有效（直到死亡）、跨關卡保留

### 🎁 道具系統

6 種經典道具，符合 FC 原版規則：

| 道具 | 效果 | 持續時間 |
|------|------|---------|
| ⭐ 星星 | 坦克升級 | 永久（直到死亡） |
| 🪖 頭盔 | 無敵護盾 | 10 秒 |
| 🎖️ 坦克 | 額外生命 +1 | 永久 |
| 🛠️ 鐵鍬 | 基地防護（磚牆→鋼牆） | 15 秒 |
| ⏰ 時鐘 | 冰凍所有敵人 | 8 秒 |
| 💣 手榴彈 | 消滅所有敵人 | 立即生效 |

### 🤖 敵人系統

4 種敵人類型，各有特色：

| 類型 | 生命 | 速度 | 分數 | 特性 |
|------|------|------|------|------|
| BASIC (灰) | 1 | 慢 | 100 | 基礎敵人 |
| FAST (紅) | 1 | 快 | 200 | 移動快速 |
| POWER (黃) | 2 | 中 | 300 | 射速快 |
| ARMOR (綠) | 4 | 慢 | 400 | 裝甲坦克，隨血量變色 |

**AI 系統**: 4 種狀態（巡邏、追逐、攻擊、撤退）+ A* 智能尋路

### 🗺️ 地形系統

7 種地形類型：

- **磚牆** - 可被任何子彈摧毀
- **鋼牆** - 只能被 Level 3+ 子彈破壞
- **水域** - 坦克無法通過，子彈可飛越
- **冰地** - 速度 +20%，有滑行效果
- **森林** - 可隱藏坦克，提供掩護
- **基地** - 被摧毀即失敗
- **空地** - 自由移動區域

### ⚔️ 戰鬥規則

**經典 FC 規則完整還原**:
- ✅ 子彈抵銷：玩家子彈 vs 敵人子彈會互相抵銷
- ✅ 敵人之間不碰撞（可重疊）
- ✅ 手榴彈一擊消滅所有敵人（包括裝甲坦克）
- ✅ 鐵鍬道具臨時強化基地防禦

### 🎯 關卡設計

5 個難度遞增的關卡：

1. **新手村** - 學習基本操作
2. **水與冰** - 地形特性介紹
3. **森林迷宮** - 戰術掩護運用
4. **地形大師** - 複雜地形組合
5. **終極戰場** - 挑戰極限

**勝利條件**: 消滅所有敵人且基地未被摧毀
**失敗條件**: 生命歸零或基地被摧毀

## 技術亮點

- **完整測試覆蓋**: 161 個單元測試全部通過
- **性能優化**: 物件池、碰撞分組，穩定 60 FPS
- **設計模式**: 狀態機、工廠、觀察者、單例、物件池
- **智能 AI**: A* 尋路算法 + 狀態機行為系統

## 開發信息

- **引擎**: Phaser.js 3.60+
- **語言**: JavaScript ES6+
- **構建**: Webpack 5 + Babel
- **測試**: Jest
- **代碼行數**: 約 6,700 行（含 2,493 行測試）

---

更多技術細節請參考 `docs/technical/` 目錄。
